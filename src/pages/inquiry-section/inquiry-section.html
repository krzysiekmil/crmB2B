<ion-content>
  <ion-list style="width: 100%">
    <ion-card *ngFor="let question of section.questionsList" (*ngIf)="visibilityQuestion(question)"
              id="{{question.id}}">
      <ion-card-header>
        <ion-card-title>
          <ion-label>
            {{question.id}}. {{question.label}}
            <button ion-button icon-only *ngIf="question.id!=selectedQuestion" item-right clear
                    (click)="selectQuestion(question.id)"
                    [disabled]="disabledQuestion(question)">
              <ion-icon name="arrow-up"></ion-icon>
            </button>
            <button ion-button icon-only *ngIf="question.id==selectedQuestion" item-right clear
                    (click)="selectQuestion(question.id)"
                    [disabled]="disabledQuestion(question)">
              <ion-icon name="arrow-down"></ion-icon>
            </button>
          </ion-label>
        </ion-card-title>
      </ion-card-header>
      <ion-card-content *ngIf="questionSelected(question.id)">
        <ion-item *ngIf="question.type==='input'">
          <ion-input [placeholder]='setInputPlaceHolder(question.id)' [(ngModel)]="question.answer">
          </ion-input>
        </ion-item>
        <ion-item *ngIf="question.type ==='checkbox'">
          <ion-checkbox [(ngModel)]="question.answer"></ion-checkbox>
          <ion-label float-end>
            {{question.answer}}
          </ion-label>
          <ion-label float-end *ngIf="question.answer==false">
            0 pkt.
          </ion-label>
          <ion-label float-end *ngIf="question.answer==true">
            +{{question.defaultValue}} pkt.
          </ion-label>
        </ion-item>
        <ion-item *ngIf="question.type==='select'">
          <ion-select [(ngModel)]="question.answer" interface="popover" [placeholder]="setSelectPlaceholder(question)">
            <ion-option *ngFor="let answer of question.questionAnswers">
              {{answer.label}} {{answer.value/100*question.defaultValue}} pkt.
            </ion-option>
          </ion-select>
        </ion-item>
        <ion-item *ngIf="question.type==='selectMultiple'">
          <ion-select float-end [(ngModel)]="question.answer" interface="popover" multiple="true"
                      [placeholder]="setSelectPlaceholder(question)">
            <ion-option *ngFor="let answer of question.questionAnswers">
              {{answer.label}} {{answer.value/100*question.defaultValue}} pkt.
            </ion-option>
          </ion-select>
        </ion-item>
        <ion-item *ngIf="question.type==='range'">
          <ion-label>
            Wybrany wynik
            <ion-badge>
              {{question.answer}}
            </ion-badge>
          </ion-label>
          <ion-range snaps [(ngModel)]="question.answer" [min]="setRangeValue(question,'min')"
                     [max]="setRangeValue(question,'max')" pin="true">
            <ion-label range-left>{{rangeMin}}</ion-label>
            <ion-label range-right>{{rangeMax}}</ion-label>
          </ion-range>
        </ion-item>
        <button ion-button clear (click)="popoverQuestion($event)">Dalej</button>
        <!--<button ion-button clear *ngIf="maxQuestionValue(question)" (click)="popoverQuestion()">Dalej</button>-->
      </ion-card-content>
    </ion-card>
  </ion-list>
</ion-content>
