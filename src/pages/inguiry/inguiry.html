<ion-header>
  <ion-navbar>
    <button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
  </ion-navbar>
  <ion-toolbar>
    <ion-segment [(ngModel)]="selectedSegment" (ionChange)="onSegmentChanged($event)">
      <ion-segment-button value="first">
        First
      </ion-segment-button>
      <ion-segment-button value="second">
        Second
      </ion-segment-button>
      <ion-segment-button value="third">
        Third
      </ion-segment-button>
    </ion-segment>
  </ion-toolbar>
</ion-header>
<ion-content padding *ngFor="let section of sectionList">
  <ion-slides #mySlider (ionDidChange)="onSlideChanged($event)">
    <ion-slide>
      <ion-list *ngFor="let question of section.questionsList" scroll="true">
        <ion-card (*ngIf)="visibilityQuestion(question)" id="{{question.id}}">
          <ion-card-header>
            <ion-card-title>
              <ion-label>
                {{question.id}}. {{question.label}}
                <button ion-button item-right clear (click)="selectQuestion(question.id)"
                        [disabled]="disabledQuestion(question)">
                  <ion-icon *ngIf="question.id==selectedQuestion" name="arrow-up"></ion-icon>
                  <ion-icon *ngIf="question.id!=selectedQuestion" name="arrow-down"></ion-icon>
                </button>
              </ion-label>
            </ion-card-title>
          </ion-card-header>
          <ion-card-content *ngIf="questionSelected(question.id)">
            <ion-item *ngIf="question.type==='input'">
              <ion-input [placeholder]='setInputPlaceHolder(question.id)' [(ngModel)]="question.answer">
              </ion-input>
            </ion-item>
            <ion-item *ngIf="question.type ==='checkbox'">
              <ion-checkbox [(ngModel)]="question.answer"></ion-checkbox>
            </ion-item>
            <ion-item *ngIf="question.type==='select'">
              <ion-select [(ngModel)]="question.answer">
                <ion-option *ngFor="let answer of question.questionAnswers">
                  {{answer.label}}
                </ion-option>
              </ion-select>
            </ion-item>
            <ion-item *ngIf="question.type==='selectMultiple'">
              <ion-select multiple="true" [(ngModel)]="question.answer">
                <ion-option *ngFor="let answer of question.questionAnswers">
                  {{answer.label}}
                </ion-option>
              </ion-select>
            </ion-item>
            <ion-item *ngIf="question.type==='range'">
              <ion-range min="question.answer[1].label" max="question.answer[0].label" pin="true">
              </ion-range>
            </ion-item>
            <button ion-button clear (click)="nextQuestionButton()">Dalej</button>
          </ion-card-content>
        </ion-card>
      </ion-list>
    </ion-slide>
  </ion-slides>
</ion-content>


<ion-footer>
  <ion-label>
    TWOJ WYNIK: {{sectionResult}}/{{section.maxValue}}
  </ion-label>
</ion-footer>


